[
  {
    "description": "  As a library system user\n  I want to access the book list with proper authorization\n  So that I can view books securely",
    "elements": [
      {
        "description": "",
        "id": "book-api-access-control;authorized-user-can-view-books-when-books-exist",
        "keyword": "Scenario",
        "line": 9,
        "name": "Authorized user can view books when books exist",
        "steps": [
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "the system is running",
            "match": {
              "location": "src/api/step_definitions/getAllBooks_Sanduni.step.js:8"
            },
            "result": {
              "status": "passed",
              "duration": 2014214
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 10,
            "name": "I am logged in as \"user\" user",
            "match": {
              "location": "src/api/step_definitions/getAllBooks_Sanduni.step.js:14"
            },
            "result": {
              "status": "passed",
              "duration": 9648634
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 11,
            "name": "there are books in the system",
            "match": {
              "location": "src/api/step_definitions/getAllBooks_Sanduni.step.js:29"
            },
            "result": {
              "status": "passed",
              "duration": 165158
            }
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 12,
            "name": "I send GET request to \"/api/books\"",
            "match": {
              "location": "src/api/step_definitions/getAllBooks_Sanduni.step.js:37"
            },
            "result": {
              "status": "passed",
              "duration": 99636706
            }
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 13,
            "name": "the response status should be 200",
            "match": {
              "location": "src/api/step_definitions/getAllBooks_Sanduni.step.js:41"
            },
            "result": {
              "status": "passed",
              "duration": 710650
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 14,
            "name": "the response should contain the list of books",
            "match": {
              "location": "src/api/step_definitions/getAllBooks_Sanduni.step.js:45"
            },
            "result": {
              "status": "passed",
              "duration": 2111918
            }
          },
          {
            "keyword": "After",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 2335895
            }
          },
          {
            "keyword": "After",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 347803
            }
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "book-api-access-control;authorized-user-sees-empty-list-when-no-books-exist",
        "keyword": "Scenario",
        "line": 16,
        "name": "Authorized user sees empty list when no books exist",
        "steps": [
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "the system is running",
            "match": {
              "location": "src/api/step_definitions/getAllBooks_Sanduni.step.js:8"
            },
            "result": {
              "status": "passed",
              "duration": 219199
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 17,
            "name": "I am logged in as \"user\" user",
            "match": {
              "location": "src/api/step_definitions/getAllBooks_Sanduni.step.js:14"
            },
            "result": {
              "status": "passed",
              "duration": 1206154
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 18,
            "name": "there are no books in the system",
            "match": {
              "location": "src/api/step_definitions/getAllBooks_Sanduni.step.js:33"
            },
            "result": {
              "status": "passed",
              "duration": 214919
            }
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 19,
            "name": "I send GET request to \"/api/books\"",
            "match": {
              "location": "src/api/step_definitions/getAllBooks_Sanduni.step.js:37"
            },
            "result": {
              "status": "passed",
              "duration": 80439341
            }
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 20,
            "name": "the response status should be 200",
            "match": {
              "location": "src/api/step_definitions/getAllBooks_Sanduni.step.js:41"
            },
            "result": {
              "status": "passed",
              "duration": 176629
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 21,
            "name": "the response should contain an empty list",
            "match": {
              "location": "src/api/step_definitions/getAllBooks_Sanduni.step.js:56"
            },
            "result": {
              "status": "failed",
              "duration": 1656030,
              "error_message": "AssertionError\n    + expected - actual\n\n    -242\n    +0\n\n    at World.<anonymous> (/home/wathsalya/Documents/SEM7/ITQA/ITQA_Group_22/Project/src/api/step_definitions/getAllBooks_Sanduni.step.js:59:29)"
            }
          },
          {
            "keyword": "After",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 873660
            }
          },
          {
            "keyword": "After",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 94272
            }
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "book-api-access-control;unauthorized-user-cannot-access-books-when-books-exist",
        "keyword": "Scenario",
        "line": 23,
        "name": "Unauthorized user cannot access books when books exist",
        "steps": [
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "the system is running",
            "match": {
              "location": "src/api/step_definitions/getAllBooks_Sanduni.step.js:8"
            },
            "result": {
              "status": "passed",
              "duration": 188959
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 24,
            "name": "I am not authenticated",
            "match": {
              "location": "src/api/step_definitions/getAllBooks_Sanduni.step.js:23"
            },
            "result": {
              "status": "passed",
              "duration": 1400330
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 25,
            "name": "there are books in the system",
            "match": {
              "location": "src/api/step_definitions/getAllBooks_Sanduni.step.js:29"
            },
            "result": {
              "status": "passed",
              "duration": 140145
            }
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 26,
            "name": "I send GET request to \"/api/books\"",
            "match": {
              "location": "src/api/step_definitions/getAllBooks_Sanduni.step.js:37"
            },
            "result": {
              "status": "passed",
              "duration": 4333807
            }
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 27,
            "name": "the response status should be 401",
            "match": {
              "location": "src/api/step_definitions/getAllBooks_Sanduni.step.js:41"
            },
            "result": {
              "status": "passed",
              "duration": 217446
            }
          },
          {
            "keyword": "After",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 824819
            }
          },
          {
            "keyword": "After",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 59394
            }
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "book-api-access-control;unauthorized-user-cannot-access-books-when-no-books-exist",
        "keyword": "Scenario",
        "line": 29,
        "name": "Unauthorized user cannot access books when no books exist",
        "steps": [
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "the system is running",
            "match": {
              "location": "src/api/step_definitions/getAllBooks_Sanduni.step.js:8"
            },
            "result": {
              "status": "passed",
              "duration": 79032
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 30,
            "name": "I am not authenticated",
            "match": {
              "location": "src/api/step_definitions/getAllBooks_Sanduni.step.js:23"
            },
            "result": {
              "status": "passed",
              "duration": 715347
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 31,
            "name": "there are no books in the system",
            "match": {
              "location": "src/api/step_definitions/getAllBooks_Sanduni.step.js:33"
            },
            "result": {
              "status": "passed",
              "duration": 80224
            }
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 32,
            "name": "I send GET request to \"/api/books\"",
            "match": {
              "location": "src/api/step_definitions/getAllBooks_Sanduni.step.js:37"
            },
            "result": {
              "status": "passed",
              "duration": 3173990
            }
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 33,
            "name": "the response status should be 401",
            "match": {
              "location": "src/api/step_definitions/getAllBooks_Sanduni.step.js:41"
            },
            "result": {
              "status": "passed",
              "duration": 154219
            }
          },
          {
            "keyword": "After",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 821117
            }
          },
          {
            "keyword": "After",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 56755
            }
          }
        ],
        "tags": [],
        "type": "scenario"
      }
    ],
    "id": "book-api-access-control",
    "line": 1,
    "keyword": "Feature",
    "name": "Book API Access Control",
    "tags": [],
    "uri": "src/api/features/getAllBooks_Sanduni.feature"
  }
]